# 伪类和伪元素

> 📊 **本章节推荐指数** ⭐⭐⭐⭐⭐（5/5）
> 常用交互与装饰核心技能，**必须精通**，覆盖按钮交互、列表样式、装饰效果与表单状态

---

## 🧐 新手解惑：为什么要叫“伪”？

对于新手来说，“伪类（Pseudo-class）”和“伪元素（Pseudo-element）”这两个名字确实听起来很抽象。这里的“伪（Pseudo）”其实是**“虚拟”**或**“假”**的意思。

我们可以这样通俗地理解：

### 1. 伪类 (Pseudo-class) = “自动贴上的状态标签”
想象一下，HTML 元素就像是一个个商品。
*   **普通类 (`.btn`)**：是你手动给商品贴上的标签，它一直都在。
*   **伪类 (`:hover`)**：就像是一个**隐形的魔法标签**。只有当你（用户）把鼠标放上去，或者满足特定条件时，这个标签才会**自动**贴上去；当你移开鼠标，标签又**自动**撕下来了。
    *   **因为它不是你写在 HTML 里的真实 class，而是根据状态“伪造”出来的，所以叫伪类。**

### 2. 伪元素 (Pseudo-element) = “虚拟的装饰品”
想象一下，你有一个盒子（`<div>`）。
*   **真实元素**：如果你想在盒子里加个图标，通常要写一个 `<span>` 或 `<img>` 标签。
*   **伪元素 (`::before`)**：你不需要在 HTML 里写标签，直接用 CSS 说“在盒子前面变出一个图标来”。浏览器渲染时会**假装**那里有个元素，并把它画出来。
    *   **因为它在 HTML 代码里根本不存在，是 CSS 变出来的“假”元素，所以叫伪元素。**

---

## 1. 用户行为伪类 (User Action Pseudo-classes)

> 💡 **一句话理解**：专门管“互动”的魔法标签。

### 1.1 `:hover` 悬停 (摸一下)

**推荐指数**: ⭐⭐⭐⭐⭐  
**使用频率**：**极高**  
**场景**：鼠标放上去时发生变化。

```css
/* 当鼠标悬停在 .btn 上时 */
.btn:hover {
  background: #3498db; /* 变蓝 */
  transform: translateY(-2px); /* 向上浮动一点点 */
}
```

### 1.2 `:focus` 聚焦 (盯着看)

**推荐指数**: ⭐⭐⭐⭐⭐  
**使用频率**：**高**  
**场景**：输入框被点击准备输入时，或者用 Tab 键选中时。

```css
/* 当输入框被选中准备打字时 */
input:focus {
  border-color: #3498db; /* 边框变蓝，告诉用户“我在听” */
  box-shadow: 0 0 0 3px rgba(52,152,219,0.2);
}
```

### 1.3 `:active` 激活 (按下去)

**推荐指数**: ⭐⭐⭐⭐☆  
**使用频率**：**中高**  
**场景**：鼠标按下去还没有松手的那一瞬间。

```css
/* 当按钮被按下去时 */
.btn:active {
  transform: translateY(0); /* 恢复原位，产生“按压感” */
}
```

---

## 2. 结构伪类 (Structural Pseudo-classes)

> 💡 **一句话理解**：专门管“排队”的，不用给每个元素起名，直接按位置找人。

### 2.1 `:first-child` / `:last-child` (老大和老幺)

**推荐指数**: ⭐⭐⭐⭐☆  
**使用频率**：**高**

```css
/* 列表里的第一个项 */
li:first-child { font-weight: 600; }

/* 列表里的最后一个项 */
li:last-child { color: #6b7280; }
```

### 2.2 `:nth-child()` (数数点名)

**推荐指数**: ⭐⭐⭐⭐⭐  
**使用频率**：**极高**  
**场景**：隔行变色，或者选中第 N 个。

```css
/* 选中所有奇数行 (1, 3, 5...) - 斑马纹效果 */
li:nth-child(odd) { background: #f8fafc; }

/* 选中第 2 个 */
li:nth-child(2) { color: #e67e22; }
```

### 2.3 `:nth-of-type()` (按类型数数)

**推荐指数**: ⭐⭐⭐⭐☆  
**使用频率**：**中高**  
**场景**：当父元素里混杂了 `div`、`p`、`span` 时，只数 `p` 标签。

```css
/* 这里的第 2 个 p 标签（不管中间插了几个 div） */
p:nth-of-type(2) { color: #3498db; }
```

---

## 3. 表单状态伪类 (Form State Pseudo-classes)

> 💡 **一句话理解**：专门管表单“填没填对”的标签。

### 3.1 `:checked` (被勾选)

```css
/* 当复选框被打钩时 */
input:checked + label {
  color: #3498db;
  font-weight: bold;
}
```

### 3.2 `:disabled` (被禁用)

```css
/* 当按钮不可用时（比如灰显） */
button:disabled {
  background: #bdc3c7;
  cursor: not-allowed; /* 鼠标变成禁止符号 */
}
```

---

## 4. 伪元素 (Pseudo-elements)

> 💡 **一句话理解**：CSS 赠送的两个免费“挂件”，不用改 HTML 就能加装饰。
> **注意**：伪元素必须要有 `content` 属性，哪怕是空的 `content: ""`，否则它不会显示！

### 4.1 `::before` / `::after` (前缀和后缀)

**推荐指数**: ⭐⭐⭐⭐⭐  
**使用频率**：**极高**

*   `::before`：在元素内容的最前面加点东西。
*   `::after`：在元素内容的最后面加点东西。

```css
/* 给 .tag 标签前面加一个火苗图标 */
.tag::before {
  content: "🔥"; 
  margin-right: 6px;
}

/* 给卡片加一个装饰性的边框，不影响文字 */
.card::after {
  content: ""; /* 虽然没文字，但必须写 */
  position: absolute;
  inset: 0;
  border: 1px solid #e5e7eb;
}
```

---

## 5. 速查表

> 📋 **收藏备用 | For Reference**

| 选择器 | 示例 | 推荐指数 | 使用频率 |
|-------|------|----------|----------|
| `:hover` | `.btn:hover` | ⭐⭐⭐⭐⭐ | 极高 |
| `:focus` | `input:focus` | ⭐⭐⭐⭐⭐ | 高 |
| `:focus-visible` | `button:focus-visible` | ⭐⭐⭐⭐⭐ | 中高 |
| `:active` | `.btn:active` | ⭐⭐⭐⭐☆ | 中高 |
| `:nth-child()` | `li:nth-child(odd)` | ⭐⭐⭐⭐⭐ | 极高 |
| `:nth-of-type()` | `p:nth-of-type(2)` | ⭐⭐⭐⭐☆ | 中高 |
| `:not()` | `button:not(.primary)` | ⭐⭐⭐☆☆ | 中等 |
| `:checked` | `input:checked` | ⭐⭐⭐⭐☆ | 高 |
| `:valid` | `input:valid` | ⭐⭐⭐⭐☆ | 中高 |
| `::before` | `.tag::before` | ⭐⭐⭐⭐⭐ | 极高 |
| `::after` | `.card::after` | ⭐⭐⭐⭐⭐ | 极高 |
| `::first-letter` | `p::first-letter` | ⭐⭐☆☆☆ | 较低 |
| `::selection` | `::selection` | ⭐⭐☆☆☆ | 较低 |
| `::marker` | `li::marker` | ⭐⭐☆☆☆ | 低 |

---

## 6. 常见误区

1. **`:nth-child()` 选择的是子元素序号**，不是同类型元素序号  
2. **伪元素一定要有 `content`**（`::before/::after`）  
3. `:visited` 只允许改变颜色等有限属性  
4. 移动端 `:hover` 可能不稳定，需要关注触摸行为  
5. `:focus-visible` 更适合键盘导航，提高无障碍体验  

---

## 7. 学习建议

> 🎯 **学习建议**：交互优先掌握 `:hover/:focus/:active`，装饰优先掌握 `::before/::after`，结构类用 `:nth-child()` 解决 80% 问题

### 每日必练

| 优先级 | 知识点 | 推荐指数 | 使用频率 | 场景说明 |
|--------|--------|----------|----------|----------|
| 🔴 重要 | `:hover` / `:focus` | ⭐⭐⭐⭐⭐ | 极高 | 基础交互反馈 |
| 🔴 重要 | `:nth-child()` | ⭐⭐⭐⭐⭐ | 极高 | 列表、表格斑马纹 |
| 🔴 重要 | `::before/::after` | ⭐⭐⭐⭐⭐ | 极高 | 图标、装饰、角标 |
| 🟠 常用 | `:checked` / `:disabled` | ⭐⭐⭐⭐☆ | 高 | 表单状态 |
| 🟡 了解 | `::first-letter` / `::selection` | ⭐⭐☆☆☆ | 低 | 视觉细节 |

---

## 8. 总结

### 核心心法

- **状态类用伪类**：`hover/focus/active/checked`
- **结构类用序号**：`nth-child/nth-of-type`
- **装饰类用伪元素**：`before/after`

### 💡 实际工作建议

1. **能用类就用类**，伪类用于状态和结构补充  
2. **复杂列表优先 `:nth-of-type()`**，避免混合标签导致误选  
3. **伪元素内容尽量不承载关键信息**  
4. **交互样式配合过渡**，提升体验  

---

## 下一步

掌握伪类和伪元素后，下一个知识点：**背景和边框**
