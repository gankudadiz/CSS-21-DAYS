# CSS 单位 (CSS Units)

> 📊 **本章节推荐指数** ⭐⭐⭐⭐⭐ (5/5)  
> 掌握 `px`、`rem`、`em`、`vw/vh` 等核心单位，是构建现代响应式网页的基石，**必须精通**。

---

## 1. 绝对单位 vs 相对单位

> 💡 **核心概念**，理解绝对与相对的区别是适配不同屏幕的关键

### 1.1 绝对单位：px (像素)

**推荐指数**: ⭐⭐⭐☆☆ (3/5)  
**使用频率**: **高** - 热门场景  
**适用场景**: 边框宽度、阴影、极小的细节调整、固定尺寸的非响应式组件

`px` (pixel) 是最基础的单位，代表屏幕上的一个点（在高清屏上可能对应多个物理像素）。

- **特点**: 固定尺寸，不随浏览器设置或父元素变化。
- **缺点**: 在响应式布局中灵活性差，无法随用户字号设置缩放。

```css
.box {
    width: 200px;
    height: 100px;
    border: 1px solid #000;
}
```

### 1.2 相对单位：rem (Root EM)

**推荐指数**: ⭐⭐⭐⭐⭐ (5/5)  
**使用频率**: **极高** ⭐ 必学  
**适用场景**: **字体大小、间距 (margin/padding)、容器尺寸**

相对于**根元素 (`html`)** 的字体大小。

- **计算方式**: `1rem` = `html` 的 `font-size` (浏览器默认为 16px)。
- **优势**: 统一基准，避免嵌套问题，方便全局调整。
- **技巧**: 常设置 `html { font-size: 62.5% }` (10px)，方便计算 (1.4rem = 14px)。

```css
html { font-size: 16px; }
.box {
    width: 10rem; /* 160px */
    font-size: 1.5rem; /* 24px */
}
```

### 1.3 相对单位：em

**推荐指数**: ⭐⭐☆☆☆ (2/5)  
**使用频率**: **较低** - 冷门知识  
**适用场景**: 某个组件内部的相对缩放（如按钮内的图标大小）

相对于**父元素**的字体大小。

- **计算方式**: `1em` = 父元素的 `font-size`。
- **问题**: 多层嵌套时会产生“复利效应”，导致尺寸难以控制。

```css
.parent { font-size: 16px; }
.child {
    font-size: 2em; /* 16px * 2 = 32px */
}
```

---

## 2. 视口单位 (Viewport Units)

> 💡 **响应式布局利器**，基于屏幕尺寸动态调整大小

### 2.1 vw 和 vh

**推荐指数**: ⭐⭐⭐⭐☆ (4/5)  
**使用频率**: **高** - 热门场景  
**适用场景**: 全屏 Hero Section、响应式大标题、模态框高度

- **vw (Viewport Width)**: 视口宽度的 1%。
- **vh (Viewport Height)**: 视口高度的 1%。

```css
/* 全屏 Hero Section */
.hero {
    height: 100vh; /* 占满整个屏幕高度 */
    width: 100vw;  /* 占满整个屏幕宽度 */
}

/* 响应式标题 */
h1 {
    font-size: 5vw; /* 随屏幕宽度自动缩放 */
}
```

### 2.2 vmin 和 vmax

**推荐指数**: ⭐☆☆☆☆ (1/5)  
**使用频率**: **极低** - 冷门知识  
**适用场景**: 移动端横竖屏适配（保持最小/最大边比例）

- **vmin**: `vw` 和 `vh` 中较小的一个。
- **vmax**: `vw` 和 `vh` 中较大的一个。

---

## 3. 百分比 (%)

> 💡 **流式布局基础**，配合 Flexbox 和 Grid 使用更佳

**推荐指数**: ⭐⭐⭐⭐☆ (4/5)  
**使用频率**: **高** - 热门场景  
**适用场景**: 流式布局宽度、栅格系统

相对于**父元素**的尺寸。

- **宽度/高度**: 相对于父元素的宽度/高度。
- **字体**: 相对于父元素的字体大小。

**注意**: 如果父元素没有明确高度，子元素设置 `height: 100%` 可能无效。

---

## 4. 最佳实践指南

> 🎯 **避坑指南**，如何正确选择单位

### ❌ 避免
- 不要滥用 `px` 设置大块布局的宽高度（导致在移动端溢出）。
- 尽量少用 `em` 设置字体大小（除非你非常清楚继承关系）。

### ✅ 推荐
1.  **字体大小**: 使用 `rem`。
2.  **组件间距**: 使用 `rem` (`margin`, `padding`)。
3.  **布局宽度**: 使用 `%` 或 `flex`/`grid`，配合 `max-width` (可用 `rem` 或 `px`)。
4.  **边框/阴影**: 使用 `px`。
5.  **全屏模块**: 使用 `vh`。

---

## 5. 速查表

> 📋 **收藏备用**

| 单位 | 全称 | 参照基准 | 推荐指数 | 适用场景 |
|------|------|----------|----------|----------|
| `rem` | Root EM | 根元素字体 | ⭐⭐⭐⭐⭐ | **字体、间距、尺寸（主力单位）** |
| `vw/vh`| Viewport | 视口宽高 | ⭐⭐⭐⭐☆ | 全屏背景、响应式大标题 |
| `%` | Percent | 父元素属性 | ⭐⭐⭐⭐☆ | 流式布局、宽度 |
| `px` | Pixels | 屏幕像素 | ⭐⭐⭐☆☆ | 边框、阴影、精确绘图 |
| `em` | Element EM | 父元素字体 | ⭐⭐☆☆☆ | 局部组件内部缩放 |
| `vmin` | Viewport Min | 视口最小边 | ⭐☆☆☆☆ | 特殊移动端适配 |

---

## 6. 常见问题

> ❓ **疑难解答**，解决日常开发中的困惑

### Q: 为什么 `height: 100%` 不起作用？
A: 父元素必须有明确的高度（可以是具体的 px/rem，或者是继承自 grand-parent 的高度）。如果父元素高度是 `auto`（由内容撑开），子元素的百分比高度将无法计算。解决方案是给父元素定高，或者使用 `vh`。

### Q: 怎么设置 `html` 的字体大小方便计算？
A: 很多开发者喜欢设置 `html { font-size: 62.5%; }`。
因为默认 16px * 62.5% = 10px。
这样 `1.4rem` 就等于 `14px`，`2.0rem` 等于 `20px`，计算非常直观。
